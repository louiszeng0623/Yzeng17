      - name: Fetch schedule (Playwright)
        run: |
          python3 << 'EOF'
          from playwright.sync_api import sync_playwright
          import pandas as pd
          
          teams = [
              ("成都蓉城", "https://data.zhibo8.cc/html/team.html?match=&team=%E6%88%90%E9%83%BD%E8%93%89%E5%9F%8E"),
              ("国际米兰", "https://data.zhibo8.cc/html/team.html?match=&team=%E5%9B%BD%E9%99%85%E7%B1%B3%E5%85%B0"),
          ]

          for name, url in teams:
              with sync_playwright() as p:
                  browser = p.chromium.launch(headless=True)
                  page = browser.new_page()
                  page.set_default_navigation_timeout(60000)

                  # 打开球队页面
                  page.goto(url)

                  # 点击“赛程”标签（中文网站就是这么写的）
                  page.click("text=赛程")

                  # 等待赛程表渲染
                  page.wait_for_selector("table")

                  # 抓赛程表格
                  rows = page.query_selector_all("table tr")[1:]  # 跳过表头
                  data = []
                  for row in rows:
                      cols = [c.inner_text().strip() for c in row.query_selector_all("td")]
                      if len(cols) >= 5:
                          data.append(cols[:5])

                  df = pd.DataFrame(data, columns=["日期", "时间", "赛事", "主队", "客队"])
                  df.to_csv(f"data/{name}.csv", index=False, encoding="utf-8-sig")
                  browser.close()

          print("✅ Playwright 赛程获取成功！")
          EOF
